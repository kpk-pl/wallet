<html>
  <head>
    <title>Asset list</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css') }}"/>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='table.css') }}"/>
  </head>
  <body>
    <div class="section">
      <table class="table-fill">
        <thead>
          <tr>
            <th>Name</th>
            <th>Institution</th>
            <th>Type</th>
            <th>Category</th>
            <th>Region</th>
            <th>Currency</th>
            <th>Quantity</th>
          </tr>
        </thead>
        <tbody>
          {% for asset in assets | sort(attribute='name') %}
          <tr>
            <td data-title="Name">
              {{ asset.name }}{{ " [" + asset.ticker + "]" if asset.ticker else "" }}
              {% if asset.link -%}
              <a href="{{asset.link}}" target="_blank" rel="noopener noreferrer">
                <img class="link" src="{{ url_for('static', filename='external-link.svg') }}" />
              </a>
              {%- endif %}
            </td>
            <td data-title="Institution">{{ asset.institution }}</td>
            <td data-title="Type">{{ asset.type }}</td>
            <td data-title="Category">{{ asset.subcategory if asset.subcategory else asset.category }}</td>
            <td data-title="Region">{{ asset.region }}</td>
            <td data-title="Currency">{{ asset.currency }}</td>
            <td data-title="Quantity">{{ asset.finalQuantity or 0 }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </body>
</html>
